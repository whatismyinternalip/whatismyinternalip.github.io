<!doctype html>
<html><head>
    <meta charset="utf-8">
    <title>Whatismyinternalip.com</title>
    <style>
body{
  text-align: center;
}
#byline {
  font-style: italic;
}
    </style>
</head><body>
Your internal IP is: <h1 id="iplist"></h1>
<br />
<br />
<p>Heavily inspired by <a href="https://2x.io/read/security-by-obscurity">this</a> and <a href="http://net.ipcalf.com/">this</a>.</p>
<p id="byline">Made by <a href="https://twitter.com/bengl">@bengl</a></p>
<a href="https://github.com/whatismyinternalip/whatismyinternalip.github.io"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"></a>



<script>
(function() {
  var RTCPeerConnection = window.webkitRTCPeerConnection || window.mozRTCPeerConnection;
  var ipElem = document.getElementById('iplist');

  if (!RTCPeerConnection) {
    ipElem.innerHTML = 'Not available. Try this:<br/><code>$ ifconfig | grep "inet " | cut -d " " -f2 | grep -v "^127.0"</code>';
    return;
  }

  var rtc = new RTCPeerConnection({iceServers:[]});
  if (window.mozRTCPeerConnection) {      // FF needs a channel/stream to proceed
    rtc.createDataChannel('', {reliable:false});
  };

  rtc.onicecandidate = function (evt) {
    if (evt.candidate) checkSDP(evt.candidate.candidate);
  };

  rtc.createOffer(function (offerDesc) {
    checkSDP(offerDesc.sdp);
    rtc.setLocalDescription(offerDesc);
  });


  var addrs = [];
  function checkSDP(sdp) {
    var match = sdp.match(/\d+\.\d+\.\d+\.\d+/);
    if (!match || ~addrs.indexOf(match[0]) || !isInternal(match[0])) return;
    addrs.push(match[0]);
    ipElem.innerHTML = addrs.join(", ") || '...';
  }

  function isInternal(ip){
    var s = ip.split('.')[1];
    return (ip.match(/^10\./) || ip.match(/^192\.168\./) ||
      (ip.match(/^172\.(\d+)\./) && s >= 16 && s <= 31));
  }
})();
</script>

</body></html>
